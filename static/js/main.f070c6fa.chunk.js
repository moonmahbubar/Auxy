(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var a=n(7),o=n(8),c=n(24),i=function(){function t(){Object(a.a)(this,t),this.config={clientId:"f694f6f7a1584567948f99d653a9d070",clientSecret:"0e05c9eeee094a5d8d506d0435a18ee9",redirectUri:"http://localhost:3000/callback",scope:"user-modify-playback-state",authToken:"",apiBase:""},this.config.apiBase="https://api.spotify.com/v1"}return Object(o.a)(t,[{key:"getAuthCode",value:function(){var e=this,t=new Promise(function(t,n){var a={client_id:e.config.clientId,redirect_uri:e.config.redirectUri,scope:e.config.scope||"",response_type:"code",show_dialog:!0};window.location.href="https://accounts.spotify.com/authorize?"+e.toQueryString(a)});return Object(c.a)(t)}},{key:"getTokens",value:function(t){var n=this,a=new Promise(function(a,o){var c={code:t,redirect_uri:n.config.redirectUri,grant_type:"authorization_code"},i={Authorization:"Basic "+new e(n.config.clientId+":"+n.config.clientSecret).toString("base64"),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"};fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:i,body:JSON.stringify(c)}).then(function(e){return console.log(e)})});return Object(c.a)(a)}},{key:"toQueryString",value:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}}]),t}()}).call(this,n(32).Buffer)},25:function(e,t,n){e.exports=n(44)},30:function(e,t,n){},31:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(16),i=n.n(c),r=(n(30),n(7)),l=n(8),s=n(23),u=n(17),p=n(22),m=n(6),h=n(19),d=n(5),f=(n(31),n(18)),y=function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,[{key:"playSong",value:function(e,t){fetch("http://localhost:8000/song/"+e+"/"+t).then(function(e){return console.log(e)})}},{key:"search",value:function(e,t){fetch("http://localhost:8000/song/"+e+"/"+t).then(function(e){return console.log(e)})}},{key:"sendAuthCode",value:function(e){fetch("http://localhost:8000/send_auth_code/"+e).then(function(e){return console.log(e.text())})}},{key:"createRoom",value:function(e,t,n){fetch("http://localhost:8000/create_host/"+e+"/"+t+"/"+n).then(function(e){return console.log(e)})}}]),e}(),g=new f.a,v=new y,b="",w="",k=(window.location.search.substring(1).split("&").reduce(function(e,t){if(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])}return void 0!=e.code&&(console.log(e.code),w=e.code),console.log(e),e},{}),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).setPartyName=function(e){n.setState({partyName:e.target.value})},n.setDisplayName=function(e){n.setState({displayName:e.target.value})},n.Landing=function(){return o.a.createElement("div",{className:"title"},o.a.createElement("h1",null,"Welcome to Auxy"),o.a.createElement("span",null,o.a.createElement("button",{type:"button",onClick:function(){g.getAuthCode()}},"Host"),o.a.createElement("button",{type:"button"},"Join")))},n.CallBack=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h2",null,"Congratualation, you signed into spotify!"),"Party name:",o.a.createElement("input",{type:"text",value:n.state.partyName,onChange:n.setPartyName}),"Display name:",o.a.createElement("input",{type:"text",value:n.state.displayName,onChange:n.setDisplayName}),o.a.createElement("button",{onClick:function(){v.createRoom(n.state.partyName,n.state.displayName,w)}},"party time B-)"))},n.CreateParty=function(){return o.a.createElement("div",null,"Party name:",o.a.createElement("input",{type:"text",value:n.state.partyName,onChange:n.setPartyName}),"Display name:",o.a.createElement("input",{type:"text",value:n.state.displayName,onChange:n.setDisplayName}),o.a.createElement("button",{onClick:function(){b=n.state.partyName,n.state.displayName,console.log(b),g.getAuthCode()}},"Make a party :-)"))},n.state={partyName:"",displayName:"",token:""},n.setPartyName=n.setPartyName.bind(Object(m.a)(Object(m.a)(n))),n.setDisplayName=n.setDisplayName.bind(Object(m.a)(Object(m.a)(n))),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,{basename:"/frontend/my-app/src"},o.a.createElement(d.a,{exact:!0,path:"/",component:this.Landing}),o.a.createElement(d.a,{exact:!0,path:"/callback",component:this.CallBack}),o.a.createElement(d.a,{exact:!0,path:"/create_party",component:this.CreateParty}))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.f070c6fa.chunk.js.map